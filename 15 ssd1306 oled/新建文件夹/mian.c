#include"reg52.h"
#include"intrins.h"
sbit scl = P1^2;
sbit sda = P1^5;
sbit led6 = P3^6;//D4 led
sbit led5 = P3^7;//D5 led
typedef unsigned char uchar;
/*code int panda[8][8][16]={{{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x01,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x01,0xFC,0x00,0xFF,0xFF,0x80,0x3F,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x07,0xFF,0x8F,0xFF,0x7F,0xF0,0x7F,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x0F,0xFF,0xFF,0x80,0x00,0x7F,0xFF,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x1F,0xFF,0xFC,0x00,0x00,0x0F,0xFF,0xFC,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x3F,0xFF,0xE0,0x00,0x00,0x03,0xFF,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},{{
0x3F,0xFF,0x80,0x00,0x00,0x00,0xFF,0xFF,0x80,0x00,0x00,0x00,0x00,0x03,0x00,0x00},{
0x7F,0xFF,0x00,0x00,0x00,0x00,0x3F,0xFF,0x80,0x00,0x00,0x00,0x00,0x03,0x00,0x00},{
0x7F,0xFE,0x00,0x00,0x00,0x00,0x1F,0xFF,0x80,0x00,0x00,0x00,0x00,0x07,0x00,0x00},{
0x7F,0xF8,0x00,0x00,0x00,0x00,0x0F,0xFF,0x80,0x00,0x00,0x00,0x00,0x03,0x00,0x00},{
0x7F,0xF8,0x00,0x00,0x00,0x00,0x07,0xFF,0x83,0xF8,0x3F,0x0F,0xE0,0xFF,0x0F,0xC0},{
0x7F,0xE0,0x00,0x00,0x00,0x00,0x03,0xFF,0x83,0xFC,0x7F,0x8F,0xF1,0xFF,0x1F,0xE0},{
0x3F,0xE0,0x00,0x00,0x00,0x00,0x01,0xFF,0x83,0x8C,0xE3,0x8E,0x73,0x87,0x18,0xE0},{
0x3F,0xC0,0x00,0x00,0x00,0x00,0x01,0xFE,0x03,0x0C,0x41,0x8C,0x33,0x03,0x18,0x60}},{{
0x3F,0xC0,0x00,0x00,0x00,0x00,0x01,0xFE,0x03,0x0C,0x41,0x8C,0x33,0x03,0x18,0x60},{
0x3F,0x80,0x0F,0x00,0x00,0x1C,0x00,0xFE,0x03,0x0E,0x3F,0x8C,0x33,0x83,0x0F,0xE0},{
0x1F,0x80,0x3F,0x80,0x00,0x7E,0x00,0xFC,0x03,0x0C,0x7F,0x8C,0x33,0x03,0x1F,0xE0},{
0x0F,0x80,0xFF,0xC0,0x00,0xFF,0x80,0xF8,0x03,0x0C,0xE1,0x8C,0x33,0x87,0x38,0x60},{
0x07,0x01,0xFF,0xC0,0x00,0xFF,0xC0,0x70,0x03,0x0C,0xE3,0x8C,0x33,0x87,0x38,0xE0},{
0x03,0x03,0xFF,0xE0,0x01,0xFF,0xE0,0x60,0x03,0xFC,0xFF,0x8C,0x31,0xFF,0x3D,0xE0},{
0x03,0x03,0xFF,0xE0,0x00,0xFF,0xE0,0x60,0x03,0xF8,0x7F,0x8C,0x30,0xFF,0x1F,0xE0},{
0x03,0x07,0xF1,0xC0,0x00,0xF7,0xF0,0x60,0x03,0x20,0x28,0x00,0x00,0x30,0x04,0x00}},{{
0x03,0x07,0xFF,0xC0,0x00,0xFF,0xF8,0x60,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x03,0x0F,0xFF,0xC0,0x00,0xFF,0xF8,0x60,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x03,0x0F,0xFF,0x80,0x00,0xFF,0xF8,0x60,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x03,0x0F,0xFF,0x81,0xC0,0x7F,0xF8,0x60,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x03,0x0F,0xFF,0x83,0xF8,0x7F,0xF8,0x60,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x03,0x8F,0xFF,0x07,0xF8,0x7F,0xF8,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x01,0x87,0xFF,0x07,0xF8,0x3F,0xF8,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x01,0x87,0xFE,0x03,0xF0,0x1F,0xF1,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},{{
0x01,0xC3,0xFC,0x00,0x80,0x0F,0xE1,0x81,0x80,0x00,0x10,0x00,0x30,0x00,0x00,0x00},{
0x00,0xC0,0xE0,0x00,0x00,0x07,0xC1,0x81,0xC0,0x0C,0x1A,0x00,0x38,0x00,0x07,0xF0},{
0x00,0x60,0x00,0x00,0x00,0x00,0x03,0x03,0xB0,0x06,0x1B,0x00,0x10,0x00,0x3F,0xF0},{
0x00,0x70,0x00,0x00,0x00,0x00,0x07,0x06,0x18,0x02,0x0B,0x02,0x10,0x80,0x00,0x40},{
0x00,0x30,0x00,0x00,0x00,0x00,0x0E,0x0F,0xFC,0x02,0x6B,0x01,0x7F,0x80,0x02,0x80},{
0x00,0x1C,0x00,0x00,0x00,0x00,0x1C,0x1F,0x88,0x02,0x22,0x01,0xFB,0x80,0x03,0x00},{
0x00,0x0E,0x00,0x00,0x00,0x00,0x38,0x03,0x9F,0x1F,0x36,0x01,0x11,0x00,0x01,0x0C},{
0x00,0x07,0x80,0x00,0x00,0x01,0xF0,0x7F,0xFE,0x1A,0x1E,0x01,0xFF,0x00,0xFF,0xFE}},{{
0x00,0x01,0xF0,0x00,0x00,0x07,0xC0,0x26,0x30,0x02,0x1C,0x01,0x51,0x00,0xF9,0x80},{
0x00,0x00,0xFF,0xC0,0x00,0x7F,0x80,0x0D,0xF8,0x02,0x0C,0x01,0x13,0x00,0x01,0x80},{
0x00,0x00,0xFF,0xFF,0xFF,0xFF,0x80,0x1F,0xFC,0x02,0x4C,0x01,0xFF,0x00,0x01,0x80},{
0x00,0x00,0xFF,0xFF,0xFF,0xFF,0x80,0x70,0x2F,0x82,0xDE,0x03,0xF0,0x00,0x01,0x80},{
0x00,0x00,0xFF,0xE0,0x01,0xFF,0x80,0xCF,0xF7,0x03,0xB6,0x01,0x10,0x70,0x09,0x80},{
0x00,0x00,0xFF,0xE0,0x01,0xFF,0x80,0x04,0x00,0x03,0x63,0x00,0x10,0x70,0x0D,0x80},{
0x00,0x00,0x7F,0xE0,0x01,0xFF,0x80,0x03,0xFC,0x06,0xC3,0xC0,0x18,0x70,0x07,0x00},{
0x00,0x00,0x6F,0xC0,0x01,0xFD,0x80,0x3F,0xF8,0x01,0x81,0xC0,0x0F,0xF0,0x03,0x00}},{{
0x00,0x00,0x6F,0xC0,0x01,0xFD,0x80,0x3F,0xF8,0x01,0x81,0xC0,0x0F,0xF0,0x03,0x00},{
0x00,0x00,0x60,0x00,0x00,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x60,0x00,0x00,0x07,0x04,0x00,0x00,0x00,0x00,0x88,0x00,0x00,0x00,0x00},{
0x00,0x00,0x70,0x00,0x00,0x03,0x00,0x00,0x00,0x0C,0x00,0xD8,0x00,0x00,0x00,0x00},{
0x00,0x00,0x30,0x00,0x00,0x07,0x00,0x00,0x00,0x0C,0x00,0xD8,0x00,0x00,0x00,0x00},{
0x00,0x00,0x3C,0x00,0x00,0x0E,0x16,0x16,0x0F,0x1C,0x78,0xD9,0x80,0x78,0xF1,0xF7},{
0x00,0x00,0x3F,0x00,0x00,0x5E,0x1F,0x9F,0x8F,0x9E,0xFC,0xDB,0x81,0xFD,0xF9,0xFF},{
0x00,0x00,0x1F,0x80,0x00,0x7E,0x19,0x99,0xCC,0xCC,0xCC,0xDF,0x01,0x8D,0x89,0x99}},{{
0x00,0x00,0x1F,0xFF,0xDF,0xFC,0x19,0x91,0xC8,0xCC,0x3C,0xDE,0x01,0x81,0x8D,0x99},{
0x00,0x00,0x1F,0xFF,0xFF,0xFC,0x19,0x91,0xD8,0xCC,0xFC,0xDF,0x01,0x01,0x8D,0x99},{
0x00,0x00,0x0F,0xF4,0x07,0xFC,0x19,0x99,0xC8,0xCC,0xCC,0xDB,0x03,0x8D,0x8D,0x99},{
0x00,0x00,0x0F,0xF0,0x03,0xF8,0x19,0x99,0xCC,0xCD,0xDC,0xD9,0x99,0x8D,0x99,0x99},{
0x00,0x00,0x03,0xF0,0x01,0xF0,0x1F,0x1F,0x8F,0x8E,0xFC,0xD9,0x98,0xFC,0xF9,0x99},{
0x00,0x00,0x00,0x00,0x00,0x00,0x1A,0x1A,0x18,0x00,0x00,0x00,0x00,0x40,0x20,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x10,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x18,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00}}};
*/
code char wenhao[8][8][16] ={{{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0xC0,0xC0,0xE0,0xE0},{
0xE0,0xF0,0xF0,0xF0,0xF0,0xF0,0xF0,0xF0,0xF0,0xF0,0xE0,0xE0,0xE0,0xC0,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},{{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF0,0xFE,0xFF,0xFF,0xFF,0x7F,0x1F,0x0F,0x0F},{
0x07,0x07,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x07,0x1F,0xFF,0xFF,0xFF,0xFF,0xFE},{
0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7C,0xFE,0xFE,0xFE},{
0xFE,0xFC,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},{{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0xC0,0xF0,0xFF,0xFF,0xFF,0xFF,0xFF},{
0x1F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xC1,0xE1,0xE3},{
0xE1,0xC1,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},{{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0xF8,0xFC,0xFE,0xFF,0xFF,0xFF,0x1F,0x0F,0x0F,0x07,0x03,0x01,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF},{
0xFF,0xFF,0xFF,0x98,0xF8,0xF8,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},{{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x0F,0x1F},{
0x3F,0x7F,0xFF,0xFF,0xFF,0xFF,0xF9,0xF8,0xF0,0xF0,0xE0,0xE0,0xC0,0x80,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},{{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x03,0x07,0x07,0x07,0x07,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x80,0xC0,0xC0,0xC0,0xC0,0x80,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x83,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},{{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x1C,0x3E,0x7F,0xFF,0xFF,0xFF,0xFE,0x78,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x03,0x07,0x0F,0x1F,0x3F,0x3F,0x7F,0x7F,0xFE,0xFC,0xFC,0xFC},{
0xF8,0xF8,0xF8,0xF8,0xF8,0xFC,0xFE,0xFF,0x7F,0x7F,0x3F,0x0F,0x03,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},{{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01},{
0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}}};

code const unsigned char gImage_d[512] = { /* 0X22,0X01,0X40,0X00,0X40,0X00, */
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0XC0,0XE0,0XE0,
0XF0,0XF0,0XF8,0XF8,0XFC,0XFC,0XFC,0XFE,0XFE,0XFE,0XFE,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFE,0XFE,0XFE,0XFE,0XFC,0XFC,0XFC,0XF8,0XF8,0XF0,0XF0,
0XE0,0XE0,0XC0,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0XC0,0XE0,0XF0,0XF8,0XFE,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X7F,
0XBF,0XFF,0XFF,0XEF,0XFF,0XFF,0XFF,0XFF,0XFD,0XFD,0XFF,0XFF,0X7F,0XFB,0XFB,0XF1,
0XF3,0XF3,0XF7,0XCF,0X9F,0X1E,0X3C,0XF8,0XF0,0XE0,0X80,0X00,0X00,0X00,0X00,0X00,
0X00,0X80,0XF0,0XFC,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X7F,0XFF,
0XFF,0XFF,0XFF,0X7F,0X3F,0X1F,0X1F,0X1F,0X77,0X30,0X20,0X10,0X30,0X30,0X21,0X03,
0X1F,0X3F,0X7F,0X7F,0XFF,0XFF,0XFE,0XFC,0XFF,0XFF,0XFF,0XFF,0XFC,0XF0,0X00,0X00,
0X20,0X7F,0X7F,0X7F,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X7F,0X1F,0X0F,0X03,0X01,0X00,0X00,
0X01,0X01,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X10,0X10,0X10,0X10,0X10,0X00,0X00,
0X00,0X00,0X00,0X00,0X80,0XE0,0XFC,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XE0,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,0X01,0X03,0X03,0X07,0X07,0X07,0X0F,0X0F,
0X1F,0X1F,0X0F,0X0F,0X0F,0X4F,0X47,0XC3,0XC0,0X80,0X80,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X80,0XC0,0XC0,0XE0,0XF0,0XF0,0XF0,0XF0,0XF0,0XF8,
0XF8,0XFC,0XFE,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X07,
0X00,0X00,0X0C,0X38,0XF8,0XF8,0XF0,0XF0,0XE0,0XE0,0XC0,0XC0,0XC0,0X80,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,0X83,0XFE,0X78,0X00,0X00,0XF0,
0XF8,0XF8,0XFC,0XFE,0XFE,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0X3F,0X07,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X01,0X07,0X0F,0X1F,0X3F,0X7F,0XFF,0XFF,0XFF,0XFC,0XF8,
0XF0,0XF1,0XE2,0XE6,0XC4,0XC4,0XC4,0XC4,0XE6,0XE3,0XE3,0XF1,0XF8,0XFC,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0X7F,0X3F,0X1F,0X0F,0X07,0X01,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,0X03,0X03,0X07,
0X0F,0X0F,0X1F,0X1F,0X3F,0X3F,0X3F,0X7F,0X7F,0X7F,0X7F,0X7F,0X7F,0X7F,0XFF,0XFF,
0XFF,0XFF,0XFF,0X7F,0X7F,0X7F,0X7F,0X7F,0X3F,0X3F,0X3F,0X1F,0X1F,0X1F,0X0F,0X0F,
0X07,0X03,0X03,0X01,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
};


void Delay2000ms();
void Delay500ms();
void Delay5us();

void iic_start();
void iic_stop();
char iic_ack();
void iic_tp(char tdata);
void Oled_Write_Cmd(char add);
void oled_write_data(char tdata);
void Oled_Init(void);
void clean_screen();
void fill_screen();

void main(){
	int i,j,k;
	Oled_Init();
	Oled_Write_Cmd(0x20);
	Oled_Write_Cmd(0x02);
	clean_screen();
	while(1){
		for(i=0;i<8;i++){
		Oled_Write_Cmd(i+0xb0);
		Oled_Write_Cmd(0x30);
		Oled_Write_Cmd(0x00);
		for(j=64*i;j<(64*(i+1));j++){
			oled_write_data(gImage_d[j]);
			
		}
	}
/*	for(i=0;i<8;i++){

		for(j=0;j<8;j++){
			for(k=0;k<16;k++){
				Oled_Write_Cmd(i+0xb0);
				Oled_Write_Cmd(j+0x10);
				Oled_Write_Cmd(k+0x00);
				oled_write_data(wenhao[i][j][k]);
			}
		}
	}*/
	Delay500ms();
	clean_screen();
	for(i=0;i<8;i++){
		Oled_Write_Cmd(i+0xb0);
		Oled_Write_Cmd(0x10);
		Oled_Write_Cmd(0x00);
		for(j=64*i;j<(64*(i+1));j++){
			oled_write_data(gImage_d[j]);
			
		}
	}
	Delay500ms();
}
	while(1);
}
void clean_screen(){
	uchar i,j;
	for(i=8;i<0;i--){
		Oled_Write_Cmd(i+0xb0);
		Oled_Write_Cmd(0x10);
		Oled_Write_Cmd(0x00);
		for(j=0;j<128;j++){
			oled_write_data(0);
		}
	}
}
void fill_screen(){
	uchar i,j;
	for(i=0;i<8;i++){
		Oled_Write_Cmd(i+0xb0);
		Oled_Write_Cmd(0x00);
		Oled_Write_Cmd(0x00);
		for(j=0;j<128;j++){
			oled_write_data(1);
		}
	}
}

void Oled_Init(void){
	Oled_Write_Cmd(0xAE);//--display off
	Oled_Write_Cmd(0x00);//---set low column address
	Oled_Write_Cmd(0x10);//---set high column address
	Oled_Write_Cmd(0x40);//--set start line address  
	Oled_Write_Cmd(0xB0);//--set page address
	Oled_Write_Cmd(0x81); // contract control
	Oled_Write_Cmd(0xFF);//--128   
	Oled_Write_Cmd(0xA1);//set segment remap 
	Oled_Write_Cmd(0xA6);//--normal / reverse
	Oled_Write_Cmd(0xA8);//--set multiplex ratio(1 to 64)
	Oled_Write_Cmd(0x3F);//--1/32 duty
	Oled_Write_Cmd(0xC8);//Com scan direction
	Oled_Write_Cmd(0xD3);//-set display offset
	Oled_Write_Cmd(0x00);//
	
	Oled_Write_Cmd(0xD5);//set osc division
	Oled_Write_Cmd(0x80);//
	
	Oled_Write_Cmd(0xD8);//set area color mode off
	Oled_Write_Cmd(0x05);//
	
	Oled_Write_Cmd(0xD9);//Set Pre-Charge Period
	Oled_Write_Cmd(0xF1);//
	
	Oled_Write_Cmd(0xDA);//set com pin configuartion
	Oled_Write_Cmd(0x12);//
	
	Oled_Write_Cmd(0xDB);//set Vcomh
	Oled_Write_Cmd(0x30);//
	
	Oled_Write_Cmd(0x8D);//set charge pump enable
	Oled_Write_Cmd(0x14);//
	
	Oled_Write_Cmd(0xAF);//--turn on oled panel 
}

void Oled_Write_Cmd(char add){
	iic_start();
	iic_tp(0x78);
	iic_ack();
	iic_tp(0x00);
	iic_ack();
	iic_tp(add);
	iic_ack();
	iic_stop();
}
void oled_write_data(char tdata){
	iic_start();
	iic_tp(0x78);
	iic_ack();
	iic_tp(0x40);
	iic_ack();
	iic_tp(tdata);
	iic_ack();
	iic_stop();
}
void iic_tp(char tdata){
	int i;
	for(i=0 ; i<8 ; i++){
		scl = 0;
		sda = (tdata & 0x80);
	//	Delay5us();
		scl =1;
		Delay5us();
		scl = 0;
		Delay5us();
		tdata = tdata<<1;
	}
}
char iic_ack(){
	char flag;
	scl = 0;
	sda = 1;
	Delay5us();
	scl = 1;
	Delay5us();	
	flag = sda;
	scl = 0;
	Delay5us();
	return flag;
}
void iic_start(){
	scl = 1;
	sda = 0;
	sda = 1;
	Delay5us();
	sda = 0;
	Delay5us();
}
void iic_stop(){
	scl = 0;
	sda = 0;
	scl = 1;
	Delay5us();
	sda = 1;
	Delay5us();
}
void Delay2000ms()		//@11.0592MHz
{
	unsigned char i, j, k;

	_nop_();
	i = 15;
	j = 2;
	k = 235;
	do
	{
		do
		{
			while (--k);
		} while (--j);
	} while (--i);
}
void Delay5us()		//@11.0592MHz
{
}
void Delay500ms()		//@11.0592MHz
{
	unsigned char i, j, k;

	_nop_();
	i = 4;
	j = 129;
	k = 119;
	do
	{
		do
		{
			while (--k);
		} while (--j);
	} while (--i);
}


/*--  ???????:C:\Users\zhang\Desktop\02. ????_STC51??\04_??????????\????\12864????.bmp  --*/
/*--  ??x??=128x64  --*/